jQuery(document).ready((function(e){var o=member_login_data,r=o.isMemberContent,n=o.isSearchPage,t=o.memberHubLink,i=o.memberLoginLink,a=(o.sfCommunityUrl,o.siteHomeUrl),c=o.postTypeName;function u(e){for(var o=e+"=",r=document.cookie.split(";"),n=0;n<r.length;n++){for(var t=r[n];" "===t.charAt(0);)t=t.substring(1);if(0===t.indexOf(o))return t.substring(o.length,t.length)}return null}function m(e){var o=new RegExp("[?&]"+encodeURIComponent(e)+"=([^&]*)").exec(window.location.search);return null===o?"":decodeURIComponent(o[1].replace(/\+/g," "))}e((function(){var o=m("s"),t=m("error"),d=m("error_description"),l=m("code"),f=m("sfdc_community_url"),s=e(".member-login-overlay");if(t&&d)return s.show(),confirm("Error: Unable to login. Please try again.")?void(window.location.href=i):void(window.location.href=a);if(l&&f&&(s.show(),function(e,o,r){if("string"!=typeof o||""===o.trim())return!1;var n="";if(r){var t=new Date;t.setTime(t.getTime()+24*r*60*60*1e3),n="; expires="+t.toUTCString()}return document.cookie=e+"="+encodeURIComponent(o)+n+"; path=/",-1!==document.cookie.indexOf(e+"="+encodeURIComponent(o))}("sf_auth_code",l,1)))window.location.href=localStorage.dv_redirect_url?localStorage.dv_redirect_url:a;else{var h=u("sf_auth_code");if(1==r||"resource"==c||"member_recipes"==c){if(n||o)return void s.hide();if(!h||""===h.trim())return void(window.location.href=i);l&&f?s.show():s.hide()}else s.hide()}})),e(".btn-member-login").each((function(){var o=e(this),r=u("sf_auth_code");r&&""!==r.trim()?(o.html("<span>My Membership<span>"),o.attr("href",t)):(o.html("<span>Member Login<span>"),o.attr("href",i))})),e(".btn-member-logout").each((function(){var o=e(this),r=u("sf_auth_code");r&&""!==r.trim()?o.show():o.hide()})),e(document).on("click",".btn-member-logout",(function(e){if(e.preventDefault(),confirm("Are you sure you want to log out?")){if(o="sf_auth_code",document.cookie=o+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/;",-1===document.cookie.indexOf(o+"="))return void(window.location.href=a);alert("Error: Unable to log out. Please try again.")}var o}))}));