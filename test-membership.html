<!DOCTYPE html>
<html>
<head>
    <title>Membership System Test</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
    <h1>Membership System Test</h1>
    
    <h2>Test URLs</h2>
    <p>Click these links to test different membership scenarios:</p>
    
    <ul>
        <li><a href="?RecordTypeId=01290000000G5VKAA0&DA_Member_Type__c=Paid&DA_Membership_Type__c=Full&Membership_Expiry_Date__pc=18122027&DA_Expiry_after_grace_period__c=18012028">Full Member (Valid)</a></li>
        <li><a href="?RecordTypeId=01290000000G5VKAA0&DA_Member_Type__c=Free&DA_Membership_Type__c=Student&Membership_Expiry_Date__pc=18122027&DA_Expiry_after_grace_period__c=18012028">Free Member (Valid)</a></li>
        <li><a href="?RecordTypeId=01290000000G5VKAA0&DA_Member_Type__c=Paid&DA_Membership_Type__c=Full&Membership_Expiry_Date__pc=01012020&DA_Expiry_after_grace_period__c=01012020">Expired Member</a></li>
        <li><a href="?RecordTypeId=01290000000G5VKAA0&DA_Member_Type__c=Paid&DA_Membership_Type__c=Full&Membership_Expiry_Date__pc=NA&DA_Expiry_after_grace_period__c=NA">Invalid Data (NA dates)</a></li>
    </ul>
    
    <h2>Current Membership Data</h2>
    <div id="membership-info">
        <p>No membership data found</p>
    </div>
    
    <h2>Actions</h2>
    <button onclick="clearMembershipData()">Clear Membership Data</button>
    <button onclick="showMembershipData()">Show Stored Data</button>
    
    <script>
        // Simulate the member login data object
        const member_login_data = {
            isMemberContent: true,
            isSearchPage: false,
            memberHubLink: '/members-hub/',
            memberLoginLink: '/member-login/',
            postTypeName: 'resource',
            sfCommunityUrl: 'https://test.salesforce.com',
            siteHomeUrl: 'https://dvicstg.wpenginepowered.com'
        };
        
        // Include the membership functions here for testing
        // (Copy the functions from member-login.js)
        
        function showMembershipData() {
            const data = getStoredMembershipData();
            if (data) {
                document.getElementById('membership-info').innerHTML = 
                    '<pre>' + JSON.stringify(data, null, 2) + '</pre>';
            } else {
                document.getElementById('membership-info').innerHTML = 
                    '<p>No membership data found</p>';
            }
        }
        
        function clearMembershipData() {
            document.cookie = 'dv_membership_data=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/;';
            localStorage.removeItem('dv_membership_data');
            showMembershipData();
        }
        
        // Show current data on page load
        showMembershipData();
    </script>
</body>
</html>
